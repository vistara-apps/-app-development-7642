# Historify Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# API Configuration
# =============================================================================

# Base URL for the Historify API
VITE_API_BASE_URL=http://localhost:3001/api

# OCR Service Configuration
VITE_OCR_SERVICE_URL=https://api.ocr.space/parse/image
VITE_OCR_API_KEY=your_ocr_space_api_key_here

# Alternative OCR Providers (optional)
VITE_GOOGLE_VISION_API_KEY=your_google_vision_api_key
VITE_AWS_TEXTRACT_REGION=us-east-1
VITE_AWS_ACCESS_KEY_ID=your_aws_access_key
VITE_AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# =============================================================================
# Storage Configuration
# =============================================================================

# Storage provider: 'local', 'aws-s3', 'google-cloud', 'vercel-blob'
VITE_STORAGE_PROVIDER=local

# AWS S3 Configuration (if using AWS S3)
VITE_AWS_REGION=us-east-1
VITE_AWS_BUCKET=historify-documents
VITE_AWS_CLOUDFRONT_DOMAIN=your-cloudfront-domain.cloudfront.net

# Google Cloud Storage Configuration (if using GCS)
VITE_GCS_BUCKET=historify-documents
VITE_GCS_PROJECT_ID=your-project-id

# Vercel Blob Configuration (if using Vercel)
VITE_BLOB_READ_WRITE_TOKEN=your_vercel_blob_token

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT Secret for token signing (backend)
JWT_SECRET=your_super_secure_jwt_secret_key_here

# Session configuration
SESSION_TIMEOUT=86400
REFRESH_TOKEN_EXPIRY=604800

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# Database Configuration
# =============================================================================

# Database URL (PostgreSQL, MySQL, SQLite)
DATABASE_URL=postgresql://username:password@localhost:5432/historify

# Redis URL for caching and sessions
REDIS_URL=redis://localhost:6379

# =============================================================================
# External Services
# =============================================================================

# Email Service (SendGrid, Mailgun, etc.)
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your_sendgrid_api_key
FROM_EMAIL=noreply@historify.com

# Payment Processing (Stripe)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Analytics (Google Analytics, Mixpanel, etc.)
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID
MIXPANEL_TOKEN=your_mixpanel_token

# Error Tracking (Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable features
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_WEBHOOKS=false
VITE_ENABLE_COLLABORATION=false
VITE_ENABLE_ADVANCED_SEARCH=true
VITE_ENABLE_GEO_MAPPING=true
VITE_ENABLE_EXPORT=true

# Development features
VITE_ENABLE_DEBUG_MODE=false
VITE_ENABLE_MOCK_DATA=true
VITE_ENABLE_PERFORMANCE_MONITORING=false

# =============================================================================
# Application Configuration
# =============================================================================

# Application environment
NODE_ENV=development
VITE_APP_ENV=development

# Application URLs
VITE_APP_URL=http://localhost:5173
VITE_API_URL=http://localhost:3001

# File upload limits
VITE_MAX_FILE_SIZE=10485760
VITE_MAX_FILES_PER_UPLOAD=10
VITE_ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/tiff

# OCR Configuration
VITE_OCR_DEFAULT_LANGUAGE=eng
VITE_OCR_CONFIDENCE_THRESHOLD=0.7
VITE_OCR_MAX_PAGES=50

# Search Configuration
VITE_SEARCH_RESULTS_PER_PAGE=20
VITE_SEARCH_MAX_RESULTS=1000
VITE_SEARCH_ENABLE_FUZZY=true

# =============================================================================
# Rate Limiting
# =============================================================================

# API rate limits (requests per hour)
RATE_LIMIT_FREE=100
RATE_LIMIT_BASIC=1000
RATE_LIMIT_PREMIUM=10000

# Upload rate limits
UPLOAD_RATE_LIMIT=10
UPLOAD_RATE_WINDOW=3600

# =============================================================================
# Monitoring & Logging
# =============================================================================

# Log level: 'error', 'warn', 'info', 'debug'
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Health check configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# Development Configuration
# =============================================================================

# Development server configuration
VITE_DEV_SERVER_PORT=5173
VITE_DEV_SERVER_HOST=localhost

# Hot module replacement
VITE_HMR_PORT=24678

# Development database (SQLite for local development)
DEV_DATABASE_URL=sqlite:./dev.db

# Mock services in development
VITE_USE_MOCK_API=false
VITE_USE_MOCK_OCR=true
VITE_USE_MOCK_STORAGE=true

# =============================================================================
# Production Configuration
# =============================================================================

# Production optimizations
VITE_BUILD_SOURCEMAP=false
VITE_BUILD_MINIFY=true
VITE_BUILD_ANALYZE=false

# CDN Configuration
VITE_CDN_URL=https://cdn.historify.com
VITE_STATIC_ASSETS_URL=https://assets.historify.com

# SSL Configuration
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# =============================================================================
# Backup & Recovery
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PROVIDER=aws-s3
BACKUP_BUCKET=historify-backups

# =============================================================================
# Webhooks
# =============================================================================

# Webhook configuration
WEBHOOK_SECRET=your_webhook_secret_key
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3

# Supported webhook events
WEBHOOK_EVENTS=document.uploaded,document.processed,ocr.completed,subscription.updated

# =============================================================================
# Internationalization
# =============================================================================

# Default language
VITE_DEFAULT_LANGUAGE=en

# Supported languages (comma-separated)
VITE_SUPPORTED_LANGUAGES=en,es,fr,de,it

# =============================================================================
# Performance
# =============================================================================

# Caching configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# Image optimization
IMAGE_QUALITY=80
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048

# Lazy loading
ENABLE_LAZY_LOADING=true
LAZY_LOADING_THRESHOLD=100

# =============================================================================
# Security
# =============================================================================

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/csp-report

# CSRF Protection
CSRF_ENABLED=true
CSRF_COOKIE_NAME=_csrf

# Rate limiting
RATE_LIMITING_ENABLED=true
RATE_LIMITING_WINDOW=900000
RATE_LIMITING_MAX_REQUESTS=100

# =============================================================================
# Testing
# =============================================================================

# Test database
TEST_DATABASE_URL=sqlite::memory:

# Test configuration
VITE_TEST_TIMEOUT=10000
VITE_TEST_COVERAGE_THRESHOLD=80

# E2E testing
E2E_BASE_URL=http://localhost:5173
E2E_HEADLESS=true
E2E_BROWSER=chromium
